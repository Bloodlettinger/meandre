{% extends "admin/base_site.html" %}

{% load adminmedia %}
{% load i18n %}
{% load static %}

{% block extrahead %}
{{ block.super }}
<script type="text/javascript" src="{% static "uploader/js/jquery-1.7.2.min.js" %}"></script>
<script type="text/javascript" src="{% static "uploader/jscrollpane/js/jquery.mousewheel.js" %}"></script>
<script type="text/javascript" src="{% static "uploader/jscrollpane/js/jScrollPane.js" %}"></script>
<script type="text/javascript" src="{% static "uploader/fancybox/jquery.fancybox.pack.js?v=2.0.6" %}"></script>
<script type="text/javascript">
$(document).ready(function() {
    $('.frame_list .container').jScrollPane(
        {
            scrollbarOnLeft: true,
            animateTo: true,
            animateInterval: 50,
            animateStep: 5,
            scrollbarWidth: 10,
            verticalDragMinHeight: 100,
            verticalDragMaxHeight: 100,
            scrollbarMargin: 0
        });
    $('.fancybox').fancybox();
});
</script>
{% endblock %}

{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" href="{% static "admin_tools/css/dashboard.css" %}" type="text/css" media="screen, projection"/>
<link rel="stylesheet" href="{% static "uploader/css/style.css" %}" type="text/css" media="screen,projection"/>
<link rel="stylesheet" href="{% static "uploader/fancybox/jquery.fancybox.css?v=2.0.6" %}" type="text/css" media="screen,projection"/>
<link rel="stylesheet" href="{% static "uploader/css/jscroll.css" %}" type="text/css" media="screen,projection"/>
{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <a href="{% url admin:index %}">{% trans "Home" %}</a> &rsaquo;
    <a href="{% url admin:app_list "uploader" %}">{% trans "Uploader" context "breadcrumbs" %}</a> &rsaquo;
    {% trans "Library" context "breadcrumbs" %}
</div>
{% endblock %}

{% block content %}
<div id="content-main">
    <div id="uploader-left-column">
        <div class="dashboard-module patch-margins">
            <h2>{% trans "Drop Zone" %}</h2>
            {% include "uploader/drop_zone.html" %}
        </div>
        <div class="dashboard-module patch-margins">
            {% include "uploader/frame_list.html" with id="queue_list" list=queue_list title=_("Queued Images") empty=_("There are no images. Drop some on Drop Zone.") %}
        </div>
    </div>

    <div id="uploader-right-column">
        <div class="dashboard-module patch-margins">
            {% include "uploader/frame_list.html" with id="image_list" list=image_list title=_("Image Library") empty=_("There are no images. Use Drop Zone and review uploaded images.") %}
        </div>
    </div>
</div>

<script type="text/javascript">
window.html5uploader = window.html5uploader || new uploader(
    'upload-box', 'upload-status-text', '/uploader/image/',
    function(response) {
        $('#queue_list .jspPane').prepend(response);
    });
</script>
{% endblock %}

{% block sidebar %}
<!-- sidebar -->
{% endblock %}
